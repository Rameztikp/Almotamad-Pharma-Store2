import{r as o,j as e,E as oe,H as ne,J as U,K as ce,P as q,W as de,Q as ue,T as me,U as ge,V as xe,X as fe,Y as be,Z as z,$ as pe,a0 as he,a1 as ye,a2 as k,a3 as ve}from"./index--DLPBvsr.js";import{F as G,m as je,B as Ne,C as we,D as De,G as Ce}from"./index-BjbvdVW9.js";import{y as P}from"./index-H9pn8gH5.js";const Ae=({options:t=[],value:r,onChange:n,placeholder:s="اختر...",loading:u=!1,disabled:p=!1,noOptionsMessage:h="لا توجد خيارات متاحة"})=>{const[N,w]=o.useState(!1),[a,x]=o.useState(""),[S,D]=o.useState(null),C=o.useRef(null);o.useEffect(()=>{if(r){const c=t.find(v=>v.value===r);D(c||null)}else D(null)},[r,t]),o.useEffect(()=>{const c=v=>{C.current&&!C.current.contains(v.target)&&w(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]);const F=t.filter(c=>c.label.toLowerCase().includes(a.toLowerCase())),_=c=>{D(c),n(c.value),x(""),w(!1)},R=c=>{c.stopPropagation(),D(null),n("")};return e.jsxs("div",{className:"relative w-full",ref:C,children:[e.jsxs("div",{className:`flex items-center justify-between w-full p-2 border rounded-lg cursor-pointer ${p?"bg-gray-100":"bg-white"} ${N?"ring-2 ring-blue-500 border-blue-500":"border-gray-300"}`,onClick:()=>!p&&w(!N),children:[S?e.jsx("div",{className:"flex-1 flex items-center",children:e.jsx("span",{className:"text-gray-900",children:S.label})}):e.jsx("span",{className:"text-gray-500",children:s}),e.jsxs("div",{className:"flex items-center space-x-2",children:[S&&e.jsx("button",{type:"button",onClick:R,className:"text-gray-400 hover:text-gray-600",disabled:p,children:e.jsx(G,{size:14})}),e.jsx(je,{className:`text-gray-400 transition-transform ${N?"transform rotate-180":""}`,size:14})]})]}),N&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg",children:[e.jsx("div",{className:"p-2 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx(Ne,{className:"text-gray-400"})}),e.jsx("input",{type:"text",className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"ابحث عن فئة...",value:a,onChange:c=>x(c.target.value),autoFocus:!0})]})}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:u?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"جاري التحميل..."}):F.length>0?e.jsx("ul",{children:F.map(c=>e.jsx("li",{className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${r===c.value?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"}`,onClick:()=>_(c),children:c.label},c.value))}):e.jsx("div",{className:"p-4 text-center text-gray-500",children:a?"لا توجد نتائج":h})})]})]})},Qe=({isOpen:t,onClose:r,onSubmit:n,product:s,type:u})=>{const[p,h]=o.useState([]),[N,w]=o.useState(!0),[a,x]=o.useState({name:"",description:"",price:"",category_id:"",stock:"",images:[],brand:"",sku:"",barcode:"",isActive:!0,isMedicine:!1,expiryDate:"",batchNumber:"",manufacturer:"",requiresPrescription:!1,activeIngredient:"",dosageForm:"",strength:"",storageConditions:"",sideEffects:"",contraindications:""}),[S,D]=o.useState({}),[C,F]=o.useState(!1),[_,R]=o.useState(!1),[c,v]=o.useState([]),[d,$]=o.useState(!1),[T,I]=o.useState(0);o.useEffect(()=>{(async()=>{try{const i=await oe.getCategories(),g=i.data||i;Array.isArray(g)?(h(g),!s&&g.length>0&&x(f=>({...f,category_id:g[0].id}))):(console.error("تنسيق بيانات الفئات غير متوقع:",g),P.error("حدث خطأ في تحميل الفئات"),h([]))}catch(i){console.error("خطأ في جلب الفئات:",i),P.error("فشل تحميل الفئات. يرجى المحاولة مرة أخرى"),h([])}finally{w(!1)}})()},[]),o.useEffect(()=>{s?(x({name:s.name||"",description:s.description||"",price:s.price||"",category_id:s.category_id||"",stock:s.stock||"",images:s.images||[],brand:s.brand||"",sku:s.sku||"",barcode:s.barcode||"",isMedicine:s.isMedicine||!1,expiryDate:s.expiryDate||"",batchNumber:s.batchNumber||"",manufacturer:s.manufacturer||"",requiresPrescription:s.requiresPrescription||!1,activeIngredient:s.activeIngredient||"",dosageForm:s.dosageForm||"",strength:s.strength||"",storageConditions:s.storageConditions||"",sideEffects:s.sideEffects||"",contraindications:s.contraindications||""}),v(s.images||[]),R(!!s.isMedicine)):(x({name:"",description:"",price:"",category_id:p[0]||"",stock:"",images:[],brand:"",sku:"",barcode:"",isMedicine:!1,expiryDate:"",batchNumber:"",manufacturer:"",requiresPrescription:!1,activeIngredient:"",dosageForm:"",strength:"",storageConditions:"",sideEffects:"",contraindications:""}),v([]),R(!1))},[s,p]);const m=l=>{const{name:i,value:g,type:f,checked:O}=l.target;x(y=>({...y,[i]:f==="checkbox"?O:g}))},se=()=>{R(!_),x(_?l=>{const{isMedicine:i,...g}=l;return{...g,isMedicine:!1,expiryDate:"",batchNumber:"",manufacturer:"",requiresPrescription:!1,activeIngredient:"",dosageForm:"",strength:"",storageConditions:"",sideEffects:"",contraindications:""}}:l=>({...l,isMedicine:!0}))},ae=l=>{const i=Array.from(l.target.files),g=i.map(f=>({file:f,preview:URL.createObjectURL(f)}));v(f=>[...f,...g]),x(f=>({...f,images:[...f.images,...i]}))},te=l=>{const i=[...c],g=[...a.images];typeof i[l]!="string"&&URL.revokeObjectURL(i[l].preview),i.splice(l,1),g.splice(l,1),v(i),x(f=>({...f,images:g}))},re=async l=>{var g,f,O;l.preventDefault();const i={};if(a.name||(i.name="اسم المنتج مطلوب"),a.price||(i.price="السعر مطلوب"),a.category_id||(i.category="الفئة مطلوبة"),a.stock||(i.stock="الكمية المتوفرة مطلوبة"),Object.keys(i).length>0){D(i),P.error("الرجاء ملء جميع الحقول المطلوبة");return}if(c.length===0){P.error("الرجاء إضافة صورة واحدة على الأقل للمنتج");return}$(!0);try{let y=[...c];const L=c.filter(b=>typeof b!="string").map(b=>b.file||b);if(L.length>0){F(!0),I(0);try{const b=await ne.uploadImages(L);y=[...c.filter(A=>typeof A=="string").map(A=>({url:A,isPrimary:!1})),...b.map(A=>({url:A,isPrimary:!1}))],y.length>0&&(y[0].isPrimary=!0),I(100),await new Promise(A=>setTimeout(A,200))}catch(b){throw console.error("Error uploading images:",b),P.error("حدث خطأ أثناء رفع الصور"),b}finally{F(!1),I(0)}}const{stock:Ve,...le}=a,ie=y.map(b=>typeof b=="string"?b:b.url),M={...le,images:ie,type:u||"retail",price:parseFloat(a.price)||0,stock_quantity:parseInt(a.stock,10)||0,brand:a.brand||"",sku:a.sku||`SKU-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,barcode:a.barcode||`BC-${Date.now()}`};a.isMedicine&&(M.medicine_fields={active_ingredient:a.activeIngredient||"",dosage:a.dosageForm||"",expiration_date:a.expiryDate,batch_number:a.batchNumber||"",manufacturer:a.manufacturer||"",requires_prescription:a.requiresPrescription||!1,strength:a.strength||"",storage_conditions:a.storageConditions||"",side_effects:a.sideEffects||"",contraindications:a.contraindications||""}),console.log("Submitting product data:",JSON.stringify(M,null,2)),console.log("Submitting product data:",M);try{console.log("About to call onSubmit..."),await n(M),console.log("onSubmit completed successfully")}catch(b){throw console.error("Error in onSubmit:",b),b}x({name:"",description:"",price:"",category_id:((g=p[0])==null?void 0:g.id)||"",stock:"",images:[],brand:"",sku:"",barcode:"",isMedicine:!1,expiryDate:"",batchNumber:"",manufacturer:"",requiresPrescription:!1,activeIngredient:"",dosageForm:"",strength:"",storageConditions:"",sideEffects:"",contraindications:""}),v([]),D({}),r()}catch(y){console.error("Error submitting product:",y),P.error(y.message||((O=(f=y.response)==null?void 0:f.data)==null?void 0:O.message)||"حدث خطأ أثناء حفظ المنتج")}finally{$(!1),I(0)}};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:s?"تعديل المنتج":"إضافة منتج جديد"}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",disabled:d,children:e.jsx(G,{size:24})})]}),e.jsxs("form",{onSubmit:re,className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"المعلومات الأساسية"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["اسم المنتج ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:m,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category_id",children:["الفئة ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ae,{options:p.map(l=>({value:l.id,label:l.name_ar||l.name})),value:a.category_id,onChange:l=>x(i=>({...i,category_id:l})),placeholder:"اختر فئة المنتج",loading:N,noOptionsMessage:"لا توجد فئات متاحة"}),S.category_id&&e.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:S.category_id})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["السعر (ر.س) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"price",value:a.price,onChange:m,min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:d})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["الكمية المتوفرة ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"stock",value:a.stock,onChange:m,min:"0",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:d})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الوصف"}),e.jsx("textarea",{name:"description",value:a.description,onChange:m,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["صور المنتج ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[C?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(we,{className:"animate-spin text-blue-500 text-2xl mb-2"}),e.jsx("span",{className:"text-xs text-gray-500",children:"جاري الرفع..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"text-gray-400 text-2xl mb-2"}),e.jsx("span",{className:"text-sm text-gray-500",children:"رفع صورة"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:ae,disabled:d||C})]}),c.map((l,i)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:typeof l=="string"?l:l.preview||URL.createObjectURL(l),alt:`Preview ${i+1}`,className:"w-32 h-32 object-cover rounded-lg",onLoad:()=>{typeof l!="string"&&l.preview&&URL.revokeObjectURL(l.preview)}}),e.jsx("button",{type:"button",onClick:()=>te(i),className:"absolute top-1 left-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",disabled:d||C,children:e.jsx(Ce,{size:12})})]},i))]}),T>0&&T<100&&e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${T}%`}})}),e.jsx("p",{className:"text-xs text-gray-500",children:"يمكنك رفع حتى 5 صور كحد أقصى. الصيغ المدعومة: JPG, PNG, WebP"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"معلومات إضافية"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الماركة"}),e.jsx("input",{type:"text",name:"brand",value:a.brand,onChange:m,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الكود"}),e.jsx("input",{type:"text",name:"sku",value:a.sku,onChange:m,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الباركود"}),e.jsx("input",{type:"text",name:"barcode",value:a.barcode,onChange:m,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d})]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isMedicine",name:"isMedicine",checked:_,onChange:se,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:d}),e.jsx("label",{htmlFor:"isMedicine",className:"mr-2 block text-sm font-medium text-gray-700",children:"هذا المنتج دواء"})]})}),_&&e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100 mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-800 mb-4",children:"معلومات الدواء"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"تاريخ الانتهاء"}),e.jsx("input",{type:"date",name:"expiryDate",value:a.expiryDate,onChange:m,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"رقم الدفعة"}),e.jsx("input",{type:"text",name:"batchNumber",value:a.batchNumber,onChange:m,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الشركة المصنعة"}),e.jsx("input",{type:"text",name:"manufacturer",value:a.manufacturer,onChange:m,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"requiresPrescription",name:"requiresPrescription",checked:a.requiresPrescription,onChange:m,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:d}),e.jsx("label",{htmlFor:"requiresPrescription",className:"mr-2 block text-sm font-medium text-gray-700",children:"يتطلب وصفة طبية"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"المادة الفعالة"}),e.jsx("input",{type:"text",name:"activeIngredient",value:a.activeIngredient,onChange:m,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الشكل الصيدلاني"}),e.jsxs("select",{name:"dosageForm",value:a.dosageForm,onChange:m,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d,children:[e.jsx("option",{value:"",children:"اختر الشكل الصيدلاني"}),e.jsx("option",{value:"أقراص",children:"أقراص"}),e.jsx("option",{value:"كبسولات",children:"كبسولات"}),e.jsx("option",{value:"شراب",children:"شراب"}),e.jsx("option",{value:"حقن",children:"حقن"}),e.jsx("option",{value:"كريم",children:"كريم"}),e.jsx("option",{value:"مرهم",children:"مرهم"}),e.jsx("option",{value:"لبوس",children:"لبوس"}),e.jsx("option",{value:"قطرة",children:"قطرة"}),e.jsx("option",{value:"بخاخ",children:"بخاخ"}),e.jsx("option",{value:"محلول",children:"محلول"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"التركيز"}),e.jsx("input",{type:"text",name:"strength",value:a.strength,onChange:m,placeholder:"مثال: 500mg, 10ml",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ظروف التخزين"}),e.jsx("textarea",{name:"storageConditions",value:a.storageConditions,onChange:m,rows:"2",placeholder:"مثال: يحفظ في درجة حرارة أقل من 25°م",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الآثار الجانبية"}),e.jsx("textarea",{name:"sideEffects",value:a.sideEffects,onChange:m,rows:"2",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"موانع الاستعمال"}),e.jsx("textarea",{name:"contraindications",value:a.contraindications,onChange:m,rows:"2",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:d})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:d,children:"إلغاء"}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 flex justify-center items-center",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"جاري الحفظ..."]}):s?"حفظ التغييرات":"إضافة المنتج"})]})]})]})})}):null};var W="AlertDialog",[ke,Xe]=ue(W,[U]),j=U(),B=t=>{const{__scopeAlertDialog:r,...n}=t,s=j(r);return e.jsx(ce,{...s,...n,modal:!0})};B.displayName=W;var Se="AlertDialogTrigger",_e=o.forwardRef((t,r)=>{const{__scopeAlertDialog:n,...s}=t,u=j(n);return e.jsx(ye,{...u,...s,ref:r})});_e.displayName=Se;var Pe="AlertDialogPortal",H=t=>{const{__scopeAlertDialog:r,...n}=t,s=j(r);return e.jsx(pe,{...s,...n})};H.displayName=Pe;var Ee="AlertDialogOverlay",V=o.forwardRef((t,r)=>{const{__scopeAlertDialog:n,...s}=t,u=j(n);return e.jsx(he,{...u,...s,ref:r})});V.displayName=Ee;var E="AlertDialogContent",[Fe,Re]=ke(E),Ie=xe("AlertDialogContent"),J=o.forwardRef((t,r)=>{const{__scopeAlertDialog:n,children:s,...u}=t,p=j(n),h=o.useRef(null),N=q(r,h),w=o.useRef(null);return e.jsx(de,{contentName:E,titleName:Y,docsSlug:"alert-dialog",children:e.jsx(Fe,{scope:n,cancelRef:w,children:e.jsxs(me,{role:"alertdialog",...p,...u,ref:N,onOpenAutoFocus:ge(u.onOpenAutoFocus,a=>{var x;a.preventDefault(),(x=w.current)==null||x.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[e.jsx(Ie,{children:s}),e.jsx(Te,{contentRef:h})]})})})});J.displayName=E;var Y="AlertDialogTitle",K=o.forwardRef((t,r)=>{const{__scopeAlertDialog:n,...s}=t,u=j(n);return e.jsx(fe,{...u,...s,ref:r})});K.displayName=Y;var Q="AlertDialogDescription",X=o.forwardRef((t,r)=>{const{__scopeAlertDialog:n,...s}=t,u=j(n);return e.jsx(be,{...u,...s,ref:r})});X.displayName=Q;var Oe="AlertDialogAction",Me=o.forwardRef((t,r)=>{const{__scopeAlertDialog:n,...s}=t,u=j(n);return e.jsx(z,{...u,...s,ref:r})});Me.displayName=Oe;var Z="AlertDialogCancel",ee=o.forwardRef((t,r)=>{const{__scopeAlertDialog:n,...s}=t,{cancelRef:u}=Re(Z,n),p=j(n),h=q(r,u);return e.jsx(z,{...p,...s,ref:h})});ee.displayName=Z;var Te=({contentRef:t})=>{const r=`\`${E}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${E}\` by passing a \`${Q}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${E}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return o.useEffect(()=>{var s;document.getElementById((s=t.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},$e=B,Le=H,Ue=V,qe=J,ze=ee,Ge=K,We=X;function Ze({...t}){return e.jsx($e,{"data-slot":"alert-dialog",...t})}function Be({...t}){return e.jsx(Le,{"data-slot":"alert-dialog-portal",...t})}function He({className:t,...r}){return e.jsx(Ue,{"data-slot":"alert-dialog-overlay",className:k("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function es({className:t,...r}){return e.jsxs(Be,{children:[e.jsx(He,{}),e.jsx(qe,{"data-slot":"alert-dialog-content",className:k("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r})]})}function ss({className:t,...r}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:k("flex flex-col gap-2 text-center sm:text-left",t),...r})}function as({className:t,...r}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:k("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r})}function ts({className:t,...r}){return e.jsx(Ge,{"data-slot":"alert-dialog-title",className:k("text-lg font-semibold",t),...r})}function rs({className:t,...r}){return e.jsx(We,{"data-slot":"alert-dialog-description",className:k("text-muted-foreground text-sm",t),...r})}function ls({className:t,...r}){return e.jsx(ze,{className:k(ve({variant:"outline"}),t),...r})}export{Ze as A,Qe as P,Ae as S,es as a,ss as b,ts as c,rs as d,as as e,ls as f};
